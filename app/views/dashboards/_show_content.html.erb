  <!-- MAIN CONTENT -->
<div class="main-content-button">
  <h1 class="primary-font" id="welcome-title">Welcome, <%= current_user.profile.name %></h1>
  <% if @profile.weekly_plans.none? %>
    <div class="generate-button">
      <%= button_to 'Please Click HERE to Generate your Diet & Exercise Plans', weekly_plans_path, method: :post, class: 'generate-button' %>
    </div>
  <%end %>
</div>

<!-- Results Profile -->
<div class="mx-5 px-5 fs-5 dashboard-card">
  <p>We've estimated your current Basic Metabolic Rate (BMR) as <strong><%= @profile.daily_calories["BMR"]%> Kcal/day</strong></p>
  <%# <p>We will be recommending you an exercise regime of around 50 minutes, 5 days per week</p> %>
  <%# <p>AI is generating your week's diet and exercise plans. This may take a few minutes as the AI analyzes your personal specifications and generates your personalised plans</p> %>
  <p>As you lose weight your BMR will increase</p>
  <p>Ideal daily calorie intake : <strong><%= @profile.daily_calories["goals"]["Weight loss"]["calory"]%> Kcal/day</strong></p>
  <p>With this daily calorie intake a weight loss rate of <strong>0.5kg/week</strong> is estimated</p>
  <div class="progress-container">
    <p>Body Mass Index (BMI):<strong> <%= @profile.bmi %></strong></p>
    <div class="bmi-position-wrapper">
      <div class="bmi-position" style="left: <%= @profile.bmi.fdiv(50) * 100 %>%;">
        <i class="fa-solid fa-arrow-down"></i>
      </div>
    </div>
    <div class="progress">
      <div class="progress-bar bg-primary" role="progressbar" style="width:36%;">Underweight (<18)</div>
      <div class="progress-bar bg-success" role="progressbar" style="width:36%;">Normal (18-25)</div>
      <div class="progress-bar bg-warning" role="progressbar" style="width:24%;">Overweight (25-30)</div>
      <div class="progress-bar bg-danger" role="progressbar" style="width:40%;">Obesity (30+)</div>
    </div>
    <p>
      <p>Body Mass Index (BMI) is a numerical value derived from an individual's weight and height. It's calculated by dividing a person's weight by the square of their height.</p>
      <hr>
      <p>This metric is frequently used as a tool to gauge whether a person has a body weight that is healthy for their height. It includes categories such as underweight, normal weight, overweight, and obesity.</p>
    </p>


  </div>

  <div class="progress-container">
    <p>We've estimated your ideal weight as: <strong><%= @profile.ideal_weight_avg.round %> kg</strong></p>
    <div class="bmi-position-wrapper">
      <div class="bmi-position" style="left: <%= @profile.weight.fdiv(140) * 100 %>%;">
        <i class="fa-solid fa-arrow-down"></i>
      </div>
    </div>
    <div class="progress">
      <div class="progress-bar bg-warning" role="progressbar" style="width:30%;">Underweight (<40)</div>
      <div class="progress-bar bg-success" role="progressbar" style="width:50%;">Normal (60-90)</div>
      <div class="progress-bar bg-danger" role="progressbar" style="width:20%;">Overweight (90+)</div>
    </div>
      <p>We used 4 different equations to get your average ideal weight</p>
      <hr>
      <p>Factors such as age, gender, height and BMI are also taken into account when determining ideal weight. </p>
  </div>
  <p><strong>Disclaimer:</strong> these are estimations we have caluclated based on the information you have supplied. Other factors may affect your BMR and it is recommended to seek the advice of a healthcare professional before following a diet and exercise regime.</p>


  <%# <%= column_chart({'weight loss rate in no workouts' => 1500, 'weight loss rate in 1 workout a week' => 1800, 'weight loss rate in 3 workouts a week' => 2200 }, colors: ["lightgray","#ffff13", "lightgray"])%>
</div>
